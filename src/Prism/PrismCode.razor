@namespace Skclusive.Script.Prism
@inherits EventComponentBase
<pre><code
        class="@__Class"
        style="@_Style">@Hilighted</code></pre>
@code
{
    [Parameter]
    public string Code { set; get; }

    [Parameter]
    public string Language { set; get; } = "jsx";

    [Inject]
    public IPrismHighlighter Highlighter { set; get; }

    private string __Class => $"{_Class} language-{Language}";

    private MarkupString Hilighted { set; get; }

    protected override async Task OnAfterMountAsync()
    {
        await HighlightAsync();
    }

    protected override async Task OnAfterUpdateAsync()
    {
        await HighlightAsync();
    }

    private async Task HighlightAsync()
    {
        await Task.Delay(100);

        Hilighted = await Highlighter.HighlightAsync(Code, Language);

        StateHasChanged();
    }
}
